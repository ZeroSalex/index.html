<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Digital Hub | Secure & Professional</title>
    <style>
        :root {
            --bg: #0f0f12; --card: #1a1a20; --text: #ffffff; --border: #333; --shadow: rgba(0,0,0,0.5);
            --accent: #4facfe; --discount-color: #ffcc00; --error: #ff4444; --warning: #ffa500;
        }
        .light-theme {
            --bg: #f0f2f5; --card: #ffffff; --text: #1a1a20; --border: #ddd; --shadow: rgba(0,0,0,0.1);
        }
        body { font-family: 'Segoe UI', sans-serif; background: var(--bg); color: var(--text); transition: 0.5s; text-align: center; margin: 0; overflow-x: hidden; user-select: none; }

        /* –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è */
        #auth-screen { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: var(--bg); display: flex; justify-content: center; align-items: center; z-index: 1000; }
        .auth-card { padding: 30px; width: 320px; background: var(--card); border: 2px solid var(--accent); border-radius: 24px; box-shadow: 0 10px 30px var(--shadow); }
        
        .warning-box { 
            background: rgba(255, 165, 0, 0.1); border: 1px solid var(--warning); 
            color: var(--warning); padding: 10px; border-radius: 12px; 
            font-size: 0.75rem; margin-bottom: 20px; line-height: 1.4;
            text-align: left;
        }

        .auth-input { padding: 14px; width: 100%; margin-bottom: 15px; border-radius: 10px; border: 1px solid var(--border); background: var(--bg); color: var(--text); box-sizing: border-box; font-size: 1rem; }
        #auth-msg { color: var(--error); font-size: 0.85rem; margin-bottom: 10px; min-height: 1.2rem; font-weight: bold; }

        /* –ù–∞–≤–∏–≥–∞—Ü–∏—è –≤–∫–ª–∞–¥–æ–∫ */
        .tabs-nav { display: flex; justify-content: center; gap: 8px; margin: 20px 0; padding: 0 10px; }
        .tab-btn { background: var(--card); border: 1px solid var(--border); color: var(--text); padding: 12px; border-radius: 14px; cursor: pointer; font-weight: bold; flex: 1; max-width: 130px; transition: 0.3s; font-size: 0.9rem; }
        .tab-btn.active { background: var(--accent); color: white; border-color: var(--accent); box-shadow: 0 0 15px rgba(79, 172, 254, 0.4); }
        
        .tab-content { display: none; animation: fadeIn 0.4s ease; flex-direction: column; align-items: center; }
        .tab-content.active { display: flex; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* –ì–µ–π–º–ø–ª–µ–π */
        .stats-bar { display: flex; justify-content: center; gap: 20px; padding: 15px; background: var(--card); border-bottom: 1px solid var(--border); position: sticky; top: 0; z-index: 100; font-weight: bold; }
        .lightning { font-size: 7rem; cursor: pointer; margin: 15px; transition: 0.1s; filter: drop-shadow(0 0 25px var(--accent)); display: inline-block; }
        .lightning:active { transform: scale(0.92); }
        .btn-main { background: #44ff44; border: none; padding: 15px 40px; border-radius: 15px; font-weight: bold; cursor: pointer; color: #000; font-size: 1rem; box-shadow: 0 4px 0 #2db32d; }
        .btn-main:active { transform: translateY(2px); box-shadow: 0 2px 0 #2db32d; }
        
        .shop-grid { display: flex; justify-content: center; gap: 12px; flex-wrap: wrap; padding: 15px; }
        .item, .service-card { background: var(--card); border: 1px solid var(--border); border-radius: 22px; padding: 20px; box-shadow: 0 4px 10px var(--shadow); }
        .item { width: 150px; }
        .service-card { width: 92%; max-width: 420px; text-align: left; margin-bottom: 15px; border-left: 4px solid var(--accent); }
        
        .buy-btn { background: var(--accent); border: none; color: #fff; padding: 12px; width: 100%; border-radius: 10px; cursor: pointer; margin-top: 10px; font-weight: bold; }
        .buy-btn:disabled { background: #444; opacity: 0.4; cursor: not-allowed; }

        #cheat-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(255,0,0,0.98); z-index: 2000; justify-content: center; align-items: center; flex-direction: column; color: white; }
    </style>
</head>
<body oncontextmenu="return false;">

    <div id="cheat-overlay">
        <h1>–°–ò–°–¢–ï–ú–ê –ó–ê–©–ò–¢–´ ‚õî</h1>
        <p>–ü–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∏–≥—Ä–∞–π—Ç–µ —á–µ—Å—Ç–Ω–æ.</p>
        <button class="btn-main" onclick="location.reload()">–í–ï–†–ù–£–¢–¨–°–Ø</button>
    </div>

    <div id="auth-screen">
        <div class="auth-card">
            <h2 style="color: var(--accent); margin-top:0;">Digital Hub</h2>
            
            <div class="warning-box">
                <b>‚ö†Ô∏è –í–ù–ò–ú–ê–ù–ò–ï:</b><br>
                ‚Ä¢ –°–æ–∑–¥–∞–Ω–∏–µ –≤—Ç–æ—Ä–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ.<br>
                ‚Ä¢ –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ <b>–∑–∞–ø–æ–º–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª—å</b>. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –µ–≥–æ –±—É–¥–µ—Ç –Ω–µ–ª—å–∑—è!
            </div>

            <div id="auth-msg"></div>
            <input type="text" id="name-input" class="auth-input" placeholder="–ù–∏–∫–Ω–µ–π–º">
            <input type="password" id="pass-input" class="auth-input" placeholder="–ü–∞—Ä–æ–ª—å">
            <button class="buy-btn" id="login-btn" style="padding: 16px; font-size: 1rem;">–í–û–ô–¢–ò –í –°–ò–°–¢–ï–ú–£</button>
        </div>
    </div>

    <div id="game-screen" style="display:none;">
        <div class="stats-bar">
            <div>üë§ <span id="p-name">...</span></div>
            <div>‚ö° <span id="energy">0</span></div>
            <div>üí∞ $<span id="money">0</span></div>
        </div>

        <div class="tabs-nav">
            <button class="tab-btn active" id="btn-play" onclick="openTab('tab-play')">–≠–Ω–µ—Ä–≥–∏—è</button>
            <button class="tab-btn" id="btn-upgrades" onclick="openTab('tab-upgrades')">–ú–∞–≥–∞–∑–∏–Ω</button>
            <button class="tab-btn" id="btn-services" onclick="openTab('tab-services')">–£—Å–ª—É–≥–∏</button>
        </div>

        <div id="tab-play" class="tab-content active">
            <div class="lightning" id="clicker">‚ö°</div>
            <button class="btn-main" id="sell-all">–ü–†–û–î–ê–¢–¨ –≠–ù–ï–†–ì–ò–Æ</button>
        </div>

        <div id="tab-upgrades" class="tab-content">
            <div class="shop-grid">
                <div class="item"><h4>–ö–ª–∏–∫</h4><p>$<span id="c-cost">50</span></p><button class="buy-btn" id="buy-click">–£–ª—É—á—à–∏—Ç—å</button></div>
                <div class="item"><h4>–í–µ—Ç—Ä—è–∫</h4><p>$<span id="w-cost">10</span></p><button class="buy-btn" id="buy-wind">–ö—É–ø–∏—Ç—å</button></div>
            </div>
            <h3 style="color: var(--discount-color); margin-top: 20px;">–ë–æ–Ω—É—Å—ã –∑–∞ –≤–∞–ª—é—Ç—É</h3>
            <div class="shop-grid">
                <div class="item"><h4>–°–∫–∏–¥–∫–∞ 15%</h4><p>$25000</p><button class="buy-btn" id="buy-d1">–ö–£–ü–ò–¢–¨</button></div>
                <div class="item"><h4>–°–∫–∏–¥–∫–∞ 15%</h4><p>$25000</p><button class="buy-btn" id="buy-d2">–ö–£–ü–ò–¢–¨</button></div>
            </div>
        </div>

        <div id="tab-services" class="tab-content">
            <div class="service-card">
                <h3>–°–∞–π—Ç –ø–æ–¥ –∫–ª—é—á</h3>
                <p id="price-site">–¶–µ–Ω–∞: 5 000 —Ä—É–±.</p>
                <a href="https://t.me/Serv1ce465" class="buy-btn" style="text-decoration:none; display:block; text-align:center">–ó–∞–∫–∞–∑–∞—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É</a>
            </div>
        </div>
        
        <button onclick="logout()" style="background:none; border:none; color:gray; cursor:pointer; margin-top:30px; font-size: 0.8rem; text-decoration: underline;">–°–º–µ–Ω–∏—Ç—å —Å–µ—Å—Å–∏—é</button>
    </div>

<script>
    let energy, money, clickPower, autoRate, pClick, pWind, user, d1_bought, d2_bought;
    let lastClickTime = 0, lastX = 0, lastY = 0, samePointClicks = 0;

    const loginBtn = document.getElementById('login-btn');
    const authMsg = document.getElementById('auth-msg');

    loginBtn.onclick = () => {
        const name = document.getElementById('name-input').value.trim();
        const pass = document.getElementById('pass-input').value.trim();
        const localUser = localStorage.getItem('tycoon_user');
        const localPass = localStorage.getItem('tycoon_pass');

        if (name.length < 3 || pass.length < 4) {
            authMsg.innerText = "–ú–∏–Ω–∏–º—É–º: –ù–∏–∫ (3), –ü–∞—Ä–æ–ª—å (4)";
            return;
        }

        if (localUser && localUser !== name) {
            authMsg.innerText = "–û—à–∏–±–∫–∞: –ú—É–ª—å—Ç–∏–∞–∫–∫–∞—É–Ω—Ç –∑–∞–ø—Ä–µ—â–µ–Ω!";
            return;
        }

        if (localUser === name) {
            if (localPass === pass) { user = name; start(); } 
            else { authMsg.innerText = "–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å!"; }
        } else {
            user = name;
            localStorage.setItem('tycoon_user', name);
            localStorage.setItem('tycoon_pass', pass);
            initNewGame();
            start();
        }
    };

    function initNewGame() {
        energy = 0; money = 0; clickPower = 1; autoRate = 0; pClick = 50; pWind = 10;
        d1_bought = false; d2_bought = false;
        save();
    }

    function start() {
        loadData();
        document.getElementById('auth-screen').style.display = 'none';
        document.getElementById('game-screen').style.display = 'block';
        document.getElementById('p-name').innerText = user;
        update();
    }

    function loadData() {
        energy = Number(localStorage.getItem('en')) || 0;
        money = Number(localStorage.getItem('mn')) || 0;
        clickPower = Number(localStorage.getItem('cp')) || 1;
        autoRate = Number(localStorage.getItem('ar')) || 0;
        pClick = Number(localStorage.getItem('pC')) || 50;
        pWind = Number(localStorage.getItem('pW')) || 10;
        d1_bought = localStorage.getItem('d1') === 'true';
        d2_bought = localStorage.getItem('d2') === 'true';
    }

    function save() {
        localStorage.setItem('en', energy); localStorage.setItem('mn', money);
        localStorage.setItem('cp', clickPower); localStorage.setItem('ar', autoRate);
        localStorage.setItem('pC', pClick); localStorage.setItem('pW', pWind);
        localStorage.setItem('d1', d1_bought); localStorage.setItem('d2', d2_bought);
    }

    function update() {
        document.getElementById('energy').innerText = Math.floor(energy);
        document.getElementById('money').innerText = money;
        document.getElementById('c-cost').innerText = pClick;
        document.getElementById('w-cost').innerText = pWind;
        document.getElementById('buy-click').disabled = money < pClick;
        document.getElementById('buy-wind').disabled = money < pWind;
        
        const b1 = document.getElementById('buy-d1');
        if(d1_bought) { b1.innerText = "–ê–ö–¢–ò–í–ù–û"; b1.disabled = true; document.getElementById('price-site').innerHTML = "<s>5 000</s> <span style='color:#44ff44'>4 250 —Ä—É–±.</span>"; }
        else { b1.disabled = money < 25000; }
        
        save();
    }

    document.getElementById('clicker').onclick = (e) => {
        let now = Date.now();
        if (now - lastClickTime < 30) { triggerCheat(); return; }
        if (e.clientX === lastX && e.clientY === lastY) { samePointClicks++; if (samePointClicks > 40) { triggerCheat(); return; } } 
        else { samePointClicks = 0; }
        lastClickTime = now; lastX = e.clientX; lastY = e.clientY;
        energy += clickPower; update();
    };

    function triggerCheat() { document.getElementById('game-screen').style.display = 'none'; document.getElementById('cheat-overlay').style.display = 'flex'; }
    document.getElementById('sell-all').onclick = () => { if(energy >= 1) { money += Math.floor(energy); energy = 0; update(); } };
    document.getElementById('buy-click').onclick = () => { if(money >= pClick) { money -= pClick; clickPower++; pClick *= 2; update(); } };
    document.getElementById('buy-wind').onclick = () => { if(money >= pWind) { money -= pWind; autoRate++; pWind = Math.floor(pWind * 1.5); update(); } };
    document.getElementById('buy-d1').onclick = () => { if(!d1_bought && money >= 25000) { money -= 25000; d1_bought = true; update(); } };

    function openTab(tabId) {
        document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
        document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
        document.getElementById(tabId).classList.add('active');
        document.getElementById('btn-' + tabId.replace('tab-', '')).classList.add('active');
    }

    function logout() { location.reload(); }
    setInterval(() => { if(autoRate > 0 && !document.hidden) { energy += autoRate; update(); } }, 1000);

    if (localStorage.getItem('tycoon_user')) {
        document.getElementById('name-input').value = localStorage.getItem('tycoon_user');
    }
</script>
</body>
</html>
