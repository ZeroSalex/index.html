<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Energy Tycoon | Serv1ce465 Edition</title>
    <style>
        /* –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç–∏–ª–∏ */
        body { font-family: 'Segoe UI', sans-serif; background: #0f0f12; color: #fff; text-align: center; margin: 0; overflow-x: hidden; }
        
        /* –≠–∫—Ä–∞–Ω –≤—Ö–æ–¥–∞ */
        #auth-screen {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(circle, #1a1a20 0%, #0f0f12 100%);
            display: flex; justify-content: center; align-items: center; z-index: 1000;
        }
        .auth-card {
            background: #1a1a20; padding: 40px; border-radius: 20px;
            border: 2px solid #4facfe; box-shadow: 0 0 30px rgba(79, 172, 254, 0.2);
            width: 300px;
        }
        input {
            padding: 12px; border-radius: 8px; border: 1px solid #333; background: #0f0f12;
            color: white; margin-bottom: 20px; width: 100%; font-size: 1rem; box-sizing: border-box; outline: none;
        }
        input:focus { border-color: #4facfe; }

        /* –ò–≥—Ä–æ–≤–æ–π —ç–∫—Ä–∞–Ω */
        #game-screen { display: none; padding-bottom: 50px; }
        .stats-bar { background: #1a1a20; padding: 20px; display: flex; justify-content: center; gap: 30px; border-bottom: 2px solid #4facfe; font-size: 1.2rem; position: sticky; top: 0; z-index: 100; }
        .energy-val { color: #00f2fe; font-weight: bold; text-shadow: 0 0 10px #00f2fe; }
        .money-val { color: #44ff44; font-weight: bold; text-shadow: 0 0 10px #44ff44; }
        
        /* –ì–ª–∞–≤–Ω–∞—è –º–æ–ª–Ω–∏—è */
        .lightning { font-size: 8rem; cursor: pointer; user-select: none; margin: 20px; transition: transform 0.05s, filter 0.2s; filter: drop-shadow(0 0 20px #4facfe); }
        .lightning:active { transform: scale(0.85); }
        
        .btn-action { background: #44ff44; border: none; padding: 15px 40px; border-radius: 12px; font-weight: bold; font-size: 1.1rem; cursor: pointer; transition: 0.2s; color: #000; }
        .btn-action:hover { background: #32d932; transform: scale(1.05); }

        /* –ú–∞–≥–∞–∑–∏–Ω */
        .shop { display: flex; justify-content: center; gap: 15px; margin-top: 30px; flex-wrap: wrap; padding: 0 20px; }
        .item { background: #1a1a20; padding: 15px; border-radius: 15px; border: 1px solid #333; width: 160px; transition: 0.3s; }
        .item:hover { border-color: #4facfe; transform: translateY(-5px); }
        .buy-btn { background: #4facfe; border: none; color: #fff; padding: 10px; width: 100%; border-radius: 8px; cursor: pointer; margin-top: 10px; font-weight: bold; }
        .buy-btn:disabled { background: #444; cursor: not-allowed; opacity: 0.5; }

        /* –ê–Ω—Ç–∏-—á–∏—Ç –∏ –≤—Å–ø–ª—ã–≤–∞—à–∫–∏ */
        #cheat-msg { color: #ff4444; font-weight: bold; display: none; margin-bottom: 10px; }
        .pop { position: absolute; color: #00f2fe; font-weight: bold; pointer-events: none; animation: float 0.6s ease-out forwards; }
        @keyframes float { 0% { transform: translateY(0); opacity: 1; } 100% { transform: translateY(-80px); opacity: 0; } }

        /* –ë–ª–æ–∫ —Å–≤—è–∑–∏ */
        .contact-section { margin-top: 60px; padding: 30px; background: #16161a; border-radius: 20px; display: inline-block; border: 1px solid #333; }
        .tg-link { background: #0088cc; color: #fff; padding: 12px 25px; text-decoration: none; border-radius: 8px; font-weight: bold; display: inline-block; transition: 0.3s; margin-top: 15px; }
        .tg-link:hover { background: #00aaff; transform: translateY(-2px); box-shadow: 0 5px 15px rgba(0, 136, 204, 0.4); }
    </style>
</head>
<body>

    <div id="auth-screen">
        <div class="auth-card">
            <h2 style="color: #4facfe; margin-top: 0;">Energy Tycoon</h2>
            <p>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å! –ö–∞–∫ –≤–∞—Å –∑–æ–≤—É—Ç?</p>
            <input type="text" id="name-input" placeholder="–ù–∏–∫–Ω–µ–π–º..." maxlength="12">
            <button class="buy-btn" id="login-btn" style="padding: 15px;">–ù–ê–ß–ê–¢–¨ –ò–ì–†–£</button>
        </div>
    </div>

    <div id="game-screen">
        <div class="stats-bar">
            <div>üë§ <span id="p-name" style="color: #4facfe;">–ò–≥—Ä–æ–∫</span></div>
            <div>‚ö° <span id="energy" class="energy-val">0</span></div>
            <div>üí∞ $<span id="money" class="money-val">0</span></div>
        </div>

        <h2 id="rank" style="margin-top: 30px;">–†–∞–Ω–≥: –ù–æ–≤–∏—á–æ–∫</h2>
        
        <div class="lightning" id="clicker">‚ö°</div>
        <div id="cheat-msg">–°–õ–ò–®–ö–û–ú –ë–´–°–¢–†–û! (–ê–ù–¢–ò-–ß–ò–¢)</div>
        
        <button class="btn-action" id="sell-all">–ü–†–û–î–ê–¢–¨ –í–°–Æ –≠–ù–ï–†–ì–ò–Æ</button>

        <div class="shop">
            <div class="item">
                <h4>–°–∏–ª–∞ –∫–ª–∏–∫–∞</h4>
                <p>–ö–ª–∏–∫: +<span id="c-pow">1</span></p>
                <p>–¶–µ–Ω–∞: $<span id="c-cost">50</span></p>
                <button class="buy-btn" id="buy-click">–£–ª—É—á—à–∏—Ç—å</button>
            </div>
            <div class="item">
                <h4>–í–µ—Ç—Ä—è–∫</h4>
                <p>+1 —ç–¥/—Å–µ–∫</p>
                <p>–¶–µ–Ω–∞: $<span id="w-cost">10</span></p>
                <button class="buy-btn" id="buy-wind">–ö—É–ø–∏—Ç—å</button>
            </div>
            <div class="item">
                <h4>–°–æ–ª–Ω. –ø–∞–Ω–µ–ª—å</h4>
                <p>+5 —ç–¥/—Å–µ–∫</p>
                <p>–¶–µ–Ω–∞: $<span id="s-cost">250</span></p>
                <button class="buy-btn" id="buy-solar">–ö—É–ø–∏—Ç—å</button>
            </div>
        </div>

        <div class="contact-section">
            <p style="margin: 0; color: #888;">–ü–æ–Ω—Ä–∞–≤–∏–ª–∞—Å—å –∏–≥—Ä–∞?</p>
            <h3 style="margin: 5px 0;">–Ø –º–æ–≥—É —Å–¥–µ–ª–∞—Ç—å —Ç–∞–∫–æ–π –∂–µ —Å–∞–π—Ç –¥–ª—è –≤–∞—Å!</h3>
            <a href="https://t.me/Serv1ce465?text=–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ!%20–Ø%20–ø–æ–∏–≥—Ä–∞–ª%20–≤%20–≤–∞—à—É%20–∏–≥—Ä—É%20–∏%20—Ö–æ—á—É%20–∑–∞–∫–∞–∑–∞—Ç—å%20–ø–æ—Ö–æ–∂–∏–π%20—Å–∞–π—Ç." 
               class="tg-link" target="_blank">
               –ù–∞–ø–∏—Å–∞—Ç—å –≤ Telegram
            </a>
        </div>
    </div>

<script>
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ –ø–∞–º—è—Ç–∏
    let user = localStorage.getItem('tycoon_user');
    let energy = Number(localStorage.getItem('en')) || 0;
    let money = Number(localStorage.getItem('mn')) || 0;
    let clickPower = Number(localStorage.getItem('cp')) || 1;
    let autoRate = Number(localStorage.getItem('ar')) || 0;
    
    let pClick = Number(localStorage.getItem('pC')) || 50;
    let pWind = Number(localStorage.getItem('pW')) || 10;
    let pSolar = Number(localStorage.getItem('pS')) || 250;
    
    let lastClick = 0;

    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
    if (user) { startGame(); }

    document.getElementById('login-btn').onclick = () => {
        let val = document.getElementById('name-input').value.trim();
        if (val.length >= 2) {
            user = val;
            localStorage.setItem('tycoon_user', user);
            startGame();
        } else { alert("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∏–º—è (–º–∏–Ω. 2 —Å–∏–º–≤–æ–ª–∞)"); }
    };

    function startGame() {
        document.getElementById('auth-screen').style.display = 'none';
        document.getElementById('game-screen').style.display = 'block';
        document.getElementById('p-name').innerText = user;
        refreshUI();
    }

    function saveProgress() {
        localStorage.setItem('en', energy);
        localStorage.setItem('mn', money);
        localStorage.setItem('cp', clickPower);
        localStorage.setItem('ar', autoRate);
        localStorage.setItem('pC', pClick);
        localStorage.setItem('pW', pWind);
        localStorage.setItem('pS', pSolar);
    }

    function refreshUI() {
        document.getElementById('energy').innerText = Math.floor(energy);
        document.getElementById('money').innerText = money;
        document.getElementById('c-pow').innerText = clickPower;
        document.getElementById('c-cost').innerText = pClick;
        document.getElementById('w-cost').innerText = pWind;
        document.getElementById('s-cost').innerText = pSolar;

        // –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∫–Ω–æ–ø–æ–∫
        document.getElementById('buy-click').disabled = money < pClick;
        document.getElementById('buy-wind').disabled = money < pWind;
        document.getElementById('buy-solar').disabled = money < pSolar;

        // –†–∞–Ω–≥–∏
        let r = "–ù–æ–≤–∏—á–æ–∫ ‚ö°";
        if(money > 1000) r = "–≠–ª–µ–∫—Ç—Ä–∏–∫ üî©";
        if(money > 5000) r = "–ú–∞–≥–Ω–∞—Ç üëë";
        if(money > 20000) r = "–≠–Ω–µ—Ä–≥–æ-–ë–æ–≥ üöÄ";
        document.getElementById('rank').innerText = "–†–∞–Ω–≥: " + r;
    }

    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∏–∫–∞ —Å –ê–Ω—Ç–∏-—á–∏—Ç–æ–º
    document.getElementById('clicker').onclick = (e) => {
        let now = Date.now();
        if (now - lastClick < 50) { // 20 –∫–ª–∏–∫–æ–≤ –≤ —Å–µ–∫ –ª–∏–º–∏—Ç
            document.getElementById('cheat-msg').style.display = 'block';
            document.getElementById('clicker').style.filter = "drop-shadow(0 0 30px red)";
            return;
        }
        
        document.getElementById('cheat-msg').style.display = 'none';
        document.getElementById('clicker').style.filter = "drop-shadow(0 0 20px #4facfe)";
        lastClick = now;

        energy += clickPower;
        
        // –ê–Ω–∏–º–∞—Ü–∏—è —Ü–∏—Ñ—Ä
        let p = document.createElement('div');
        p.className = 'pop';
        p.innerText = "+" + clickPower;
        p.style.left = e.pageX + 'px';
        p.style.top = e.pageY + 'px';
        document.body.appendChild(p);
        setTimeout(() => p.remove(), 600);
        
        refreshUI();
    };

    // –ü—Ä–æ–¥–∞–∂–∞ —ç–Ω–µ—Ä–≥–∏–∏
    document.getElementById('sell-all').onclick = () => {
        if(energy >= 1) {
            money += Math.floor(energy);
            energy = 0;
            saveProgress();
            refreshUI();
        }
    };

    // –ü–æ–∫—É–ø–∫–∏ –≤ –º–∞–≥–∞–∑–∏–Ω–µ
    document.getElementById('buy-click').onclick = () => {
        if(money >= pClick) {
            money -= pClick;
            clickPower++;
            pClick = Math.floor(pClick * 1.8);
            saveProgress();
            refreshUI();
        }
    };

    document.getElementById('buy-wind').onclick = () => {
        if(money >= pWind) {
            money -= pWind;
            autoRate++;
            pWind = Math.floor(pWind * 1.6);
            saveProgress();
            refreshUI();
        }
    };

    document.getElementById('buy-solar').onclick = () => {
        if(money >= pSolar) {
            money -= pSolar;
            autoRate += 5;
            pSolar = Math.floor(pSolar * 2);
            saveProgress();
            refreshUI();
        }
    };

    // –¶–∏–∫–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –¥–æ–±—ã—á–∏
    setInterval(() => {
        if(autoRate > 0) {
            energy += autoRate;
            refreshUI();
            saveProgress();
        }
    }, 1000);

    // –ü–µ—Ä–≤–∏—á–Ω–∞—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∞ –µ—Å–ª–∏ –∑–∞—à–ª–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ
    if(user) refreshUI();
</script>
</body>
</html>
